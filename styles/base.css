/**
 * Estilos base do plugin AGUIA.
 * Contém regras para logo e botão principal.
 *
 * @module     local_aguiaplugin/base
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
.aguia-logo {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    object-fit: cover;
}

/* Estilo para o botão de acessibilidade com o logo AGUIA */
#aguiaButton {
    background-color: #2271ff !important;
    padding: 0 !important;
    border: 2px solid #2271ff !important;
    border-radius: 10px !important;
    position: relative;
    width: 40px !important;
    height: 40px !important;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Garanta que o cursor personalizado "Cursor Grande" seja usado em todo o
menu de acessibilidade e seus descendentes enquanto o recurso estiver ativo.

O JS alterna a classe `aguia-custom-cursor-active` no menu
ou define um estilo `cursor` embutido. Prefira a variável CSS
`--aguia-custom-cursor`. Use !important para
sobrescrever os padrões de componente/botão para que o cursor não volte ao estado original em
elementos interativos dentro do menu.

*/
#aguiaMenu.aguia-custom-cursor-active,
#aguiaMenu.aguia-custom-cursor-active *,
.aguia-custom-cursor-active #aguiaMenu,
.aguia-custom-cursor-active #aguiaMenu * {
    cursor: var(--aguia-custom-cursor, auto) !important;
}

/* Também garante que qualquer cursor embutido definido por JS em #aguiaMenu se propague para os filhos (alguns navegadores podem mostrar um ponteiro para botões, a menos que
seja substituído). Adicionamos um seletor específico para o menu direto e seus
descendentes também. */
#aguiaMenu,
#aguiaMenu * {
    cursor: var(--aguia-custom-cursor, auto) !important;
}

/*acessibilidade - modal de imagem ampliada*/
:root {
    --aguia-modal-font-size: 20px;
    --aguia-modal-bg: #0b0b0b; /* fundo preto */
    --aguia-modal-fg: #f6f7f8; /* muito claro */
    --aguia-modal-accent: #ffd166; /* cor de destaque para botões/ícones */
}

.aguia-image-overlay {
    background: rgba(0,0,0,0.75);
    display: flex !important;
    align-items: center;
    justify-content: center;
    padding: 1.25rem !important;
}

.aguia-image-overlay .aguia-card {
    background: var(--aguia-modal-bg) !important;
    color: var(--aguia-modal-fg) !important;
    max-width: 880px !important;
    width: 100% !important;
    border-radius: 12px !important;
    box-shadow: 0 18px 60px rgba(0,0,0,0.6) !important;
    display: flex !important;
    gap: 1rem !important;
    overflow: hidden !important;
    padding: 0.25rem !important;
    font-size: var(--aguia-modal-font-size) !important;
}

.aguia-image-overlay .aguia-card-thumb { flex: 0 0 200px !important; background: #111 !important; display:flex !important; align-items:center !important; justify-content:center !important; padding:0.5rem !important; }
.aguia-image-overlay .aguia-card-thumb img { max-width: 100% !important; height: auto !important; max-height: 80vh !important; object-fit: contain !important; border-radius:6px !important; }

.aguia-image-overlay .aguia-card-body { flex:1 1 auto; display:flex; flex-direction:column; }
.aguia-image-overlay .aguia-card { align-items: stretch !important; }
.aguia-image-overlay .aguia-card-header {
    display:flex; align-items:center; justify-content:space-between; gap:0.5rem;
    padding:0.75rem 1rem; border-bottom: 2px solid rgba(255,255,255,0.06);
}

.aguia-card-title { font-size: 1.15em; font-weight:800; color:var(--aguia-modal-fg); }

.aguia-card-controls { display:flex; gap:0.5rem; align-items:center; }
.aguia-card-controls button { background:transparent; border:2px solid var(--aguia-modal-accent); color:var(--aguia-modal-accent); padding:0.25rem 0.5rem; border-radius:6px; font-size:1rem; cursor:pointer; }
.aguia-card-controls button:focus { outline:3px solid rgba(255,209,102,0.35); }

.aguia-card-close {
    background: var(--aguia-modal-accent);
    color: #000 !important;
    border:none;
    width:44px; height:44px; line-height:1; border-radius:8px; font-size:1.4rem; text-align:center; cursor:pointer;
}
.aguia-card-close:focus { outline:3px solid rgba(255,209,102,0.45); }

.aguia-card-content { padding:1rem; max-height:64vh; overflow:auto; text-align:left; color: var(--aguia-modal-fg) !important; }
.aguia-image-overlay .aguia-plain-text { font-size:1.05em; line-height:1.5; color: var(--aguia-modal-fg) !important; font-weight:600; }

.aguia-card-footer { padding:0.75rem 1rem; border-top:2px solid rgba(255,255,255,0.04); font-size:0.95em; color:var(--aguia-modal-fg) !important; }

.aguia-card-actions { display:flex; gap:0.6rem; justify-content:flex-end; align-items:center; padding:0.75rem 1rem; }
.aguia-card-actions button { padding:0.6rem 0.9rem; border-radius:8px; border:1px solid rgba(255,255,255,0.12) !important; background: rgba(255,255,255,0.06) !important; color: var(--aguia-modal-fg) !important; cursor: pointer !important; }
.aguia-copy-btn { background: var(--aguia-modal-accent) !important; color:#000 !important; border:none !important; }

/* Garantir que os botões de fechar/ler sejam visíveis */
.aguia-card-actions .aguia-read-btn,
.aguia-card-actions .aguia-close-btn {
    background: rgba(255,255,255,0.06) !important;
    color: var(--aguia-modal-fg) !important;
    border: 1px solid rgba(255,255,255,0.12) !important;
}

/* Estado desabilitado ainda visível, mas indica não interatividade */
.aguia-card-actions button[disabled],
.aguia-card-actions button[aria-disabled="true"] {
    opacity: 0.55 !important;
    filter: grayscale(30%) !important;
    cursor: not-allowed !important;
}

/* Contorno de foco para usuários de teclado */
.aguia-card-actions button:focus {
    outline: 3px solid rgba(255,209,102,0.45) !important;
    box-shadow: 0 0 0 3px rgba(255,209,102,0.12) !important;
}

.aguia-card-content .aguia-plain-text { text-align:center; }

.aguia-image-overlay button { font-size:1rem; }
